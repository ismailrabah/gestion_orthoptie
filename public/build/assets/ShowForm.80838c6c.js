import{J as p}from"./JigDd.6b7b5a1f.js";import{I as m}from"./InertiaButton.b06aab18.js";import{D as h}from"./DisplayMixin.328c366f.js";import{_ as u}from"./plugin-vue_export-helper.5a098b48.js";import{j as f,e as d,o as _,k as b,x as i,w as o,i as s,y as c,g as l}from"./vendor.bec00c62.js";const g=f({name:"ShowConsultationTachesForm",props:{model:Object},components:{InertiaButton:m,JigDd:p},mixins:[h],data(){return{}},mounted(){},computed:{flash(){return this.$page.props.flash||{}}},methods:{async printInvoice(){await axios.get(this.route("api.consultation-taches.print-invoice",{consultation_tache_id:this.model.id}),{responseType:"blob"}).then(t=>{this.displayNotification("success","Consultation Tache Invoice Printed");const n=new Blob([t.data],{type:"application/pdf"}),e=document.createElement("a");e.href=URL.createObjectURL(n),e.download="consultation-tache-invoice.pdf",e.click(),URL.revokeObjectURL(e.href)}).catch(t=>{var n,e;this.displayNotification("error",((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.message)||t.message||t)}).finally(t=>{})},async printReport(){await axios.get(this.route("api.consultations-taches.print-report",{consultation_tache_id:this.model.id}),{responseType:"blob"}).then(t=>{this.displayNotification("success","Consultation Tache Report Printed");const n=new Blob([t.data],{type:"application/pdf"}),e=document.createElement("a");e.href=URL.createObjectURL(n),e.download="consultation-tache-report.pdf",e.click(),URL.revokeObjectURL(e.href)}).catch(t=>{var n,e;this.displayNotification("error",((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.message)||t.message||t)}).finally(t=>{})}}}),y={class:"gap-4"},j=s("Consultation:"),k=s("Tache:"),v=s("Remises:"),C=s("Type de remises:"),w=s("Commentaire:"),R={class:"mt-2 text-right"},T=l("i",{class:"fas fa-print"},null,-1),I=s(" Imprimer le compte rendu"),L=l("i",{class:"fas fa-file-invoice-dollar"},null,-1),U=s(" Imprimer la facture");function B(t,n,e,N,x,D){const a=d("jig-dd"),r=d("inertia-button");return _(),b("dl",y,[i(a,null,{dt:o(()=>[j]),default:o(()=>[s(" "+c(t.model.consultation?t.model.consultation.note:"-"),1)]),_:1}),i(a,null,{dt:o(()=>[k]),default:o(()=>[s(" "+c(t.model.tache?t.model.tache.name:"-"),1)]),_:1}),i(a,null,{dt:o(()=>[v]),default:o(()=>[s(" "+c(t.model.remises),1)]),_:1}),i(a,null,{dt:o(()=>[C]),default:o(()=>[s(" "+c(t.model.pourcentage_remises?"Pourcentage":"Montant"),1)]),_:1}),i(a,null,{dt:o(()=>[w]),default:o(()=>[s(" "+c(t.model.commentaire),1)]),_:1}),l("div",R,[i(r,{onClick:t.printReport,class:"font-semibold text-white bg-indigo-600 mt-2 mr-2"},{default:o(()=>[T,I]),_:1},8,["onClick"]),i(r,{onClick:t.printInvoice,class:"font-semibold text-white bg-indigo-600 mt-2"},{default:o(()=>[L,U]),_:1},8,["onClick"])])])}var P=u(g,[["render",B]]);export{P as default};
