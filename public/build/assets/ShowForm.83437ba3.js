import{J as p}from"./JigDd.69a3a9d5.js";import{I as m}from"./InertiaButton.9718c36b.js";import{D as h}from"./DisplayMixin.328c366f.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";import{d as f,r as d,o as _,e as b,l as i,w as o,b as s,t as c,a as l}from"./main.227f4171.js";import"./index.a8a3989e.js";const g=f({name:"ShowConsultationTachesForm",props:{model:Object},components:{InertiaButton:m,JigDd:p},mixins:[h],data(){return{}},mounted(){},computed:{flash(){return this.$page.props.flash||{}}},methods:{async printInvoice(){await axios.get(this.route("api.consultation-taches.print-invoice",{consultation_tache_id:this.model.id}),{responseType:"blob"}).then(t=>{this.displayNotification("success","Consultation Tache Invoice Printed");const n=new Blob([t.data],{type:"application/pdf"}),e=document.createElement("a");e.href=URL.createObjectURL(n),e.download="consultation-tache-invoice.pdf",e.click(),URL.revokeObjectURL(e.href)}).catch(t=>{var n,e;this.displayNotification("error",((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.message)||t.message||t)}).finally(t=>{})},async printReport(){await axios.get(this.route("api.consultations-taches.print-report",{consultation_tache_id:this.model.id}),{responseType:"blob"}).then(t=>{this.displayNotification("success","Consultation Tache Report Printed");const n=new Blob([t.data],{type:"application/pdf"}),e=document.createElement("a");e.href=URL.createObjectURL(n),e.download="consultation-tache-report.pdf",e.click(),URL.revokeObjectURL(e.href)}).catch(t=>{var n,e;this.displayNotification("error",((e=(n=t.response)==null?void 0:n.data)==null?void 0:e.message)||t.message||t)}).finally(t=>{})}}}),y={class:"gap-4"},C=s("Consultation:"),k=s("Tache:"),w=s("Remises:"),R=s("Type de remises:"),v=s("Commentaire:"),T={class:"mt-2 text-right"},L=l("i",{class:"fas fa-print"},null,-1),U=s(" Imprimer le compte rendu"),j=l("i",{class:"fas fa-file-invoice-dollar"},null,-1),I=s(" Imprimer la facture");function N(t,n,e,B,O,$){const a=d("jig-dd"),r=d("inertia-button");return _(),b("dl",y,[i(a,null,{dt:o(()=>[C]),default:o(()=>[s(" "+c(t.model.consultation?t.model.consultation.note:"-"),1)]),_:1}),i(a,null,{dt:o(()=>[k]),default:o(()=>[s(" "+c(t.model.tache?t.model.tache.name:"-"),1)]),_:1}),i(a,null,{dt:o(()=>[w]),default:o(()=>[s(" "+c(t.model.remises),1)]),_:1}),i(a,null,{dt:o(()=>[R]),default:o(()=>[s(" "+c(t.model.pourcentage_remises?"Pourcentage":"Montant"),1)]),_:1}),i(a,null,{dt:o(()=>[v]),default:o(()=>[s(" "+c(t.model.commentaire),1)]),_:1}),l("div",T,[i(r,{onClick:t.printReport,class:"font-semibold text-white bg-indigo-600 mt-2 mr-2"},{default:o(()=>[L,U]),_:1},8,["onClick"]),i(r,{onClick:t.printInvoice,class:"font-semibold text-white bg-indigo-600 mt-2"},{default:o(()=>[j,I]),_:1},8,["onClick"])])])}var F=u(g,[["render",N]]);export{F as default};
